<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>NYC Ubers 2023 Analysis</title>
    <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no">
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"></script>
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
    crossorigin="" />
    <!-- Our CSS -->
    <link rel="stylesheet" type="text/css" href="static/css/style.css">
</head>

<body>
    <div class="main-container">
        <!-- The div that holds the sidebar -->
            <div id="sidebar">
            <div class="card bg-light">
                <h2>Ubers in NYC</h2>
                <p>Dataset from 2023</p>
                <div id="graphs">
                    <div class="row">
                        <div class="col-md-12">
                            <div id="heatmap"></div>
                        </div>
                        <br>
                        <br>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <div id="histogram"></div>
                        </div>
                        <br>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <div id="bar"></div>
                        </div>
                    </div>
                </div>  
                        
            </div>
        </div>
        <!-- The div that holds the map -->
     <div id="map"></div>
    </div>

    <!-- ML div -->
    <div class="row">
        <div class="card card-primary">
            <h4> Linear Regression vs Neural Network Model</h4>
            <p> 

                Target: base_passenger_fare
                <br/>
            </p>
            <h4> Linear Regression Model Performance </h4>
            <p>
                Features: trip miles, trip time, congestion_surcharge, tips, driver_pay, month, day, hour <br/>
                Accuracy score: 0.79 <br/>
                Mean absolute error: $5.35 <br/>
                Mean squared error: 82.10 <br/>
            </p>
            <h4> Neural Network Model Performance </h4>
            <p>
                Feature selection: DOLocationID, PULocationID, trip miles, trip time, congestion_surcharge, driver_pay, month, day, hour <br/>
                Keras model with 3 layers: <br/>
                    First hidden layer: units=30, activation="relu" <br/>
                    Second hidden layer: units=15, activation="relu" <br/>
                    Third hidden layer: units=10, activation="relu" <br/>
                    Output layer: units=1 <br/>
            <p>
                Epochs = 50 <br/>
            <p>
                Mean absolute error: $3.28 <br/>
                Mean square error rmse: 27.66 <br/>
            </p>
            <script src="NeuralNetwork.js"></script>
                <!-- <select id="selDataset" onchange="optionChanged(this.value)"></select> -->
        <br>
    </div>
    <!-- ML div end -->  

    <div id="graphs">
        <div class="row">
            <div class="col-md-12">
                <!-- <div id="heatmap"></div> -->
            </div>
            <br>
            <br>
        </div>
        <div class="row">
            <div class="col-md-12">
                <!-- <div id="histogram"></div> -->
            </div>
            <br>
        </div>
        <div class="row">
            <div class="col-md-12">
                <!-- <div id="bar"></div> -->
            </div>
        </div>
    </div>   
    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
    integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
    crossorigin=""></script>
    <!-- Our JavaScript file -->
    <script type="text/javascript" src="static/js/logic.js"></script>
</body>

</html>