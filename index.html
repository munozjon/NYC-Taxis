<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>NYC Ubers 2023 Analysis</title>
    <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no">
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"></script>
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
    crossorigin="" />
    <!-- Our CSS -->
    <link rel="stylesheet" type="text/css" href="static/css/style.css">
</head>

<body>
    <div class="main-container">
        <!-- The div that holds the sidebar -->
            <div id="sidebar">
            <div class="card bg-light">
                <h2>Ubers in NYC</h2>
                <p>Dataset from 2023</p>
                <div id="graphs">
                    <div class="row">
                        <div class="col-md-12">
                            <div id="heatmap"></div>
                        </div>
                        <br>
                        <br>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <div id="histogram"></div>
                        </div>
                        <br>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <div id="bar"></div>
                        </div>
                    </div>
                </div>  
                        
            </div>
        </div>
        <!-- The div that holds the map -->
     <div id="map"></div>
    </div>

    <!-- ML div -->
    <div class="row">
        <div class="card card-primary">
            <h3> Linear Regression vs Random Forests Model with Feature Selection and Hypertuning</h3>
            <p> Sample size: 167,049<br/>
                Features: <br/>
                <ul> <li>drop off location ID</li> <li>pick up location ID</li> <li>trip miles</li><li>trip time</li><li>month</li><li>hour</li><li>day of the week</li> </ul>
                Target: total fare cost<br/>
            </p>
            <h4> Linear Regression Model Performance </h4>
            <p>
                Accuracy score: 0.81 <br/>
                Mean absolute error: $6.51 <br/>
                Mean squared error: $117.23 <br/>
            </p>
            <h4> Random Forests Model Performance </h4>
            <p>
                Feature selection: features with best importance were selected out of 21 features evaluated<br/>
                Hypertuning: <br/>
                <ul> <li>Number of estimators: [50, 100, 200]</li> <li>Max Depth: [None, 10, 20, 30]</li> <li>Min Samples Split: [2, 5, 10]</li> <li>Min Samples Leaf: [1, 2, 4]</li> </ul>
                Best Parameters:
                <ul> <li>Number of estimators: [50]</li> <li>Max Depth: [30]</li> <li>Min Samples Split: [2]</li> <li>Min Samples Leaf: [4]</li> </ul>
                Accuracy: 0.85 <br/>
                Mean absolute error: $5.25 <br/>
                Mean squared error: $91.66 <br/>
            </p>
        </div>
        <div class="row"></div>
            <!-- <script src="ramdomForests.js"></script> -->
                <!-- <select id="selDataset" onchange="optionChanged(this.value)"></select> -->
        <div id = "rf_importance"></div>
    </div>
    <!-- ML div end -->  

    <div id="graphs">
        <div class="row">
            <div class="col-md-12">
                <!-- <div id="heatmap"></div> -->
            </div>
            <br>
            <br>
        </div>
        <div class="row">
            <div class="col-md-12">
                <!-- <div id="histogram"></div> -->
            </div>
            <br>
        </div>
        <div class="row">
            <div class="col-md-12">
                <!-- <div id="bar"></div> -->
            </div>
        </div>
    </div>   
    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
    integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
    crossorigin=""></script>
    <!-- Our JavaScript file -->
    <script type="text/javascript" src="static/js/logic.js"></script>
</body>

</html>